


# AI 侧边栏插件

思源笔记 AI 助手插件，实现基于思源笔记内容进行问答和编辑等丰富功能。

**注意**：使用本插件需要自备 AI 平台的 API 密钥，插件本身不提供 AI 服务。请遵守各平台的使用条款和隐私政策。

> 如果有需要使用GPT5、Gemini 2.5 Pro、Claude 4.5等顶级模型的朋友
> - 推荐[V3 API网站](https://api.gpt.ge/register?aff=fQIZ)，非常好用，按量付费，各个AI模型都能使用，比用官方的API能省不少钱，使用我的[邀请链接](https://api.gpt.ge/register?aff=fQIZ)注册可以获得$0.3余额奖励试用。

## 📝更新日志

见[CHANGELOG.md](https://cdn.jsdelivr.net/gh/Achuan-2/siyuan-plugin-copilot@main/CHANGELOG.md)

## ✨ 核心特性

### 🤖 多平台 AI 支持

- **内置平台支持**
  - OpenAI（GPT 系列）
  - Google Gemini
  - DeepSeek
  - 火山引擎（豆包大模型）
  
- **自定义平台**
  - 支持添加任意兼容 OpenAI API 的平台
  - 灵活配置 API 端点和密钥
  - 支持私有部署的大模型
### 💬 智能对话功能

- **多模态支持**
  - 文本对话
  - 图片识别（支持粘贴、上传、拖放）
  - 文件上传（支持 Markdown、文本文件等）
  - 多种内容类型混合输入

- **支持思考模式**
  - 支持 DeepSeek、OpenAI o1 系列等带思考过程的模型
  - 实时流式展示思考过程
  - 可折叠/展开查看详细思考内容

- **会话管理**
  - 自动保存对话历史
  - 创建和切换多个会话
  - 智能生成会话标题
  - 未保存提醒功能

### 📚 文档上下文集成

- **智能文档搜索**
  - 在思源笔记中搜索相关文档，快速添加到对话上下文

- **多种添加方式**
  - 拖放文档块到侧边栏
  - 搜索并选择文档
  - 直接拖动页签和块加当前文档/块

- **上下文管理**
  - 查看已添加的文档列表
  - 一键跳转到原文档
  - 灵活删除不需要的文档
  - 支持同时添加多个文档

### ✏️支持修改思源笔记内容

- 支持基于对思源笔记块内容进行直接修改、新增块
- 支持自动批准编辑
- 支持查看更改情况
- 支持AI修改后撤回


### 🎯 提示词管理

- **提示词库**
  - 创建和保存常用提示词
  - 编辑和删除提示词
  - 一键使用提示词模板
  - 快速插入到输入框

- **便捷访问**
  - 点击 📝 图标打开提示词选择器
  - 悬浮显示，不打断工作流
  - 支持提示词管理对话框

### ⚙️ 灵活的配置选项

- **模型配置**
  - 每个平台支持多个模型
  - 独立配置每个模型的参数（温度、最大 tokens）
  - 标识模型特殊能力（思考模式、视觉支持）
  - 快速切换不同模型

- **系统提示词**
  - 自定义 AI 助手的行为和角色
  - 应用于所有新会话
  - 灵活调整输出风格


## 🔧 开发相关

### 本地开发

```bash
pnpm install
pnpm run dev
```

### 文件
- `src\tools\index.ts`: agent 模式调用的工具实现代码

## 📄 许可证

MIT License

## 🙏 致谢

- 基于 [plugin-sample-vite-svelte](https://github.com/siyuan-note/plugin-sample-vite-svelte/) 模板开发
- 参考 [sy-f-misc](https://github.com/frostime/sy-f-misc)的GPT对话功能实现


## 📮 反馈与建议

如有问题或建议，欢迎在 [GitHub Issues](https://github.com/Achuan-2/siyuan-plugin-ai-sidebar/issues) 中提出。

## ❤️用爱发电

如果喜欢我的插件，欢迎给GitHub仓库点star和微信赞赏，这会激励我继续完善此插件和开发新插件。

维护插件费时费力，个人时间和精力有限，开源只是分享，不等于我要浪费我的时间免费帮用户实现ta需要的功能，

我需要的功能我会慢慢改进（打赏可以催更），有些我觉得可以改进、但是现阶段不必要的功能需要打赏才改进（会标注打赏标签和需要打赏金额），而不需要的功能、实现很麻烦的功能会直接关闭issue不考虑实现

累积赞赏50元的朋友如果想加我微信，可以发邮件到<span data-type="a" data-href="mailto:achuan-2@outlook.com">achuan-2@outlook.com</span>来进行好友申请（赞赏达不到50元的，我不会回复邮件和加好友哦，因为不想当免费客服）

![image](https://camo.githubusercontent.com/8052f6f2e7dafba534e781934efa9bcb084fa3a9dfa5c221a85ac63db8b043cb/68747470733a2f2f6173736574732e62336c6f6766696c652e636f6d2f73697975616e2f313631303230353735393030352f6173736574732f6e6574776f726b2d61737365742d696d6167652d32303235303631343132333535382d667568697235762e706e67)
